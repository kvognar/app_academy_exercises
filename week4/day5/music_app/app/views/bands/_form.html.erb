<% action = band.persisted? ? band_url(band) : bands_url %>
<% method = band.persisted? ? "PATCH" : "POST" %>
<% button_text = band.persisted? ? "Update" : "Create" %>

<% unless band.errors.full_messages.empty? %>
<div class="form_errors">
  <ul>
    <% band.errors.full_messages.each do |error| %>
      <li><%= error %></li>
    <% end %>
  </ul>
</div>
<% end %>

<form action="<%= action %>", method="POST">
  <input type="hidden" name="_method" value="<%= method %>">
  <%= authenticity_token %>
  
  <label for="band_name">
    Name
  </label>
  <input type="text"
         name="band[name]"
         id="band_name"
         value="<%= band.name %>">
  
  <input type="submit" value= "<%= button_text %>"> 
</form>